{"ast":null,"code":"import \"core-js/modules/web.url-search-params.delete.js\";\nimport \"core-js/modules/web.url-search-params.has.js\";\nimport \"core-js/modules/web.url-search-params.size.js\";\nimport * as apiFile from \"../api/files.js\";\nexport default {\n  data() {\n    return {\n      fileData: {},\n      preview: null,\n      fileType: \"\",\n      isReadable: false,\n      isWritable: false\n    };\n  },\n  methods: {\n    saveFile: function (event) {\n      const file = event.target.files[0];\n      this.preview = URL.createObjectURL(file);\n      this.fileType = file.type;\n      const reader = new FileReader();\n      reader.readAsDataURL(file);\n      reader.readAsText(fi);\n      reader.addEventListener('load', e => {\n        this.fileData = {\n          file_name: file.name,\n          file_data: e.target.result,\n          file_type: file.type\n        };\n      });\n    },\n    addFile: function () {\n      this.fileData.is_readable = this.isReadable;\n      this.fileData.is_writable = this.isWritable;\n      apiFile.addFile((error, response) => {\n        if (response) {\n          this.file = response.file;\n        } else {\n          console.log(\"Could not retreive files\");\n        }\n      }, this.fileData);\n    },\n    cancelAddingFile: function () {\n      this.$emit(\"addingFile\", false);\n    }\n  }\n};","map":{"version":3,"names":["apiFile","data","fileData","preview","fileType","isReadable","isWritable","methods","saveFile","event","file","target","files","URL","createObjectURL","type","reader","FileReader","readAsDataURL","readAsText","fi","addEventListener","e","file_name","name","file_data","result","file_type","addFile","is_readable","is_writable","error","response","console","log","cancelAddingFile","$emit"],"sources":["/Users/rajankaul/Desktop/propelon/propylon-assessment-test/src/components/AddFile.vue"],"sourcesContent":["<template>\n  <div class=\"center-screen card\">\n    <div class=\"card-header\">\n        Upload File\n    </div>\n    <form>\n        <div class=\"form-group\">\n            <br />\n            <input type=\"file\" class=\"form-control-file\" id=\"exampleFormControlFile1\" @change=\"saveFile\">\n        </div>\n    </form>\n    <div class=\"margin-top\">\n        <form>\n            <div class=\"form-group\">\n                <label for=\"exampleFormControlInput1\">Location</label>\n                <input type=\"text\" class=\"form-control\" id=\"exampleFormControlInput1\" v-model=\"fileData.location\" placeholder=\"location/goes/ (Example)\">\n            </div>\n            <div class=\"form-check form-check-inline margin-top\">\n                <input class=\"form-check-input\" type=\"checkbox\" value=\"\" v-model=\"isReadable\" id=\"flexCheckDefault\">\n                <label class=\"form-check-label\" for=\"flexCheckDefault\">\n                    Readable\n                </label>\n            </div>\n                <br />\n            <div class=\"form-check form-check-inline\">\n                <input class=\"form-check-input\" type=\"checkbox\" value=\"\" v-model=\"isWritable\" id=\"flexCheckChecked\">\n                <label class=\"form-check-label\" for=\"flexCheckChecked\">\n                    Writable\n                </label>\n            </div>\n            <br />\n            <button type=\"submit\" class=\"btn btn-primary margin-top\" @click=\"addFile()\">Submit</button>\n            <button class=\"btn btn-danger margin-top left-margin\" @click=\"cancelAddingFile()\">Cancel</button>\n        </form>\n    </div>\n\n    <div>\n        <img v-if=\"fileType.includes('image')\" :src=\"preview\" width=\"470px\" />\n        <iframe class=\"margin-top\" v-if=\"fileType==='application/pdf'\" title=\"PDF preview\" :src=\"preview\" width=\"470px\" height=\"670px\"></iframe>\n    </div>\n</div>\n\n</template>\n\n<script>\nimport * as apiFile from \"../api/files.js\";\n\nexport default {\n    data(){\n        return{\n            fileData: {},\n            preview: null,\n            fileType: \"\",\n            isReadable: false,\n            isWritable: false\n        }\n    },\n    methods:{\n        saveFile: function(event){\n\n            const file = event.target.files[0];\n            this.preview = URL.createObjectURL(file);\n            this.fileType = file.type;\n\n            const reader = new FileReader();\n            reader.readAsDataURL(file)\n            reader.readAsText(fi)\n\n            reader.addEventListener('load', (e) => {\n\n                this.fileData = {\n                    file_name: file.name,\n                    file_data: e.target.result,\n                    file_type: file.type,\n                }\n            });\n        },\n\n        addFile: function(){\n\n            this.fileData.is_readable = this.isReadable;\n            this.fileData.is_writable = this.isWritable;            \n\n            apiFile.addFile((error, response) => {\n                if(response){\n                    this.file = response.file\n                }else{\n                    console.log(\"Could not retreive files\")\n                }\n            }, this.fileData);\n        },\n\n        cancelAddingFile: function(){\n            this.$emit(\"addingFile\", false)\n        }\n    }\n\n}\n</script>\n\n<style scoped>\n\n.center-screen{\n  width: 600px;\n  /* height: 500px; */\n  margin-top: 40px;\n  margin-left: 50px;\n  padding: 10px;\n}\n.margin-top{\n    margin-top: 30px\n}\n\n.left-margin{\n  margin-left: 5px;\n}\n\n</style>"],"mappings":";;;AA6CA,OAAO,KAAKA,OAAM,MAAO,iBAAiB;AAE1C,eAAe;EACXC,IAAIA,CAAA,EAAE;IACF,OAAM;MACFC,QAAQ,EAAE,CAAC,CAAC;MACZC,OAAO,EAAE,IAAI;MACbC,QAAQ,EAAE,EAAE;MACZC,UAAU,EAAE,KAAK;MACjBC,UAAU,EAAE;IAChB;EACJ,CAAC;EACDC,OAAO,EAAC;IACJC,QAAQ,EAAE,SAAAA,CAASC,KAAK,EAAC;MAErB,MAAMC,IAAG,GAAID,KAAK,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;MAClC,IAAI,CAACT,OAAM,GAAIU,GAAG,CAACC,eAAe,CAACJ,IAAI,CAAC;MACxC,IAAI,CAACN,QAAO,GAAIM,IAAI,CAACK,IAAI;MAEzB,MAAMC,MAAK,GAAI,IAAIC,UAAU,CAAC,CAAC;MAC/BD,MAAM,CAACE,aAAa,CAACR,IAAI;MACzBM,MAAM,CAACG,UAAU,CAACC,EAAE;MAEpBJ,MAAM,CAACK,gBAAgB,CAAC,MAAM,EAAGC,CAAC,IAAK;QAEnC,IAAI,CAACpB,QAAO,GAAI;UACZqB,SAAS,EAAEb,IAAI,CAACc,IAAI;UACpBC,SAAS,EAAEH,CAAC,CAACX,MAAM,CAACe,MAAM;UAC1BC,SAAS,EAAEjB,IAAI,CAACK;QACpB;MACJ,CAAC,CAAC;IACN,CAAC;IAEDa,OAAO,EAAE,SAAAA,CAAA,EAAU;MAEf,IAAI,CAAC1B,QAAQ,CAAC2B,WAAU,GAAI,IAAI,CAACxB,UAAU;MAC3C,IAAI,CAACH,QAAQ,CAAC4B,WAAU,GAAI,IAAI,CAACxB,UAAU;MAE3CN,OAAO,CAAC4B,OAAO,CAAC,CAACG,KAAK,EAAEC,QAAQ,KAAK;QACjC,IAAGA,QAAQ,EAAC;UACR,IAAI,CAACtB,IAAG,GAAIsB,QAAQ,CAACtB,IAAG;QAC5B,CAAC,MAAI;UACDuB,OAAO,CAACC,GAAG,CAAC,0BAA0B;QAC1C;MACJ,CAAC,EAAE,IAAI,CAAChC,QAAQ,CAAC;IACrB,CAAC;IAEDiC,gBAAgB,EAAE,SAAAA,CAAA,EAAU;MACxB,IAAI,CAACC,KAAK,CAAC,YAAY,EAAE,KAAK;IAClC;EACJ;AAEJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}