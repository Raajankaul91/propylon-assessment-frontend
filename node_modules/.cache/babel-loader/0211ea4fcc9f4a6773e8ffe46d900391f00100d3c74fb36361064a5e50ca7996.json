{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode, vModelText as _vModelText, withDirectives as _withDirectives, createStaticVNode as _createStaticVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-bd46da12\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  key: 0\n};\nconst _hoisted_2 = {\n  class: \"table\"\n};\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"thead\", null, [/*#__PURE__*/_createElementVNode(\"tr\", null, [/*#__PURE__*/_createElementVNode(\"th\", {\n  scope: \"col\"\n}, \"#\"), /*#__PURE__*/_createElementVNode(\"th\", {\n  scope: \"col\"\n}, \"File Name\"), /*#__PURE__*/_createElementVNode(\"th\", {\n  scope: \"col\"\n}, \"Location\"), /*#__PURE__*/_createElementVNode(\"th\", {\n  scope: \"col\"\n}, \"Version no.\"), /*#__PURE__*/_createElementVNode(\"th\", {\n  scope: \"col\"\n}, \"Handle\")])], -1 /* HOISTED */));\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"td\", null, null, -1 /* HOISTED */));\nconst _hoisted_5 = [\"onClick\"];\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"path\", {\n  d: \"M288 80c-65.2 0-118.8 29.6-159.9 67.7C89.6 183.5 63 226 49.4 256c13.6 30 40.2 72.5 78.6 108.3C169.2 402.4 222.8 432 288 432s118.8-29.6 159.9-67.7C486.4 328.5 513 286 526.6 256c-13.6-30-40.2-72.5-78.6-108.3C406.8 109.6 353.2 80 288 80zM95.4 112.6C142.5 68.8 207.2 32 288 32s145.5 36.8 192.6 80.6c46.8 43.5 78.1 95.4 93 131.1c3.3 7.9 3.3 16.7 0 24.6c-14.9 35.7-46.2 87.7-93 131.1C433.5 443.2 368.8 480 288 480s-145.5-36.8-192.6-80.6C48.6 356 17.3 304 2.5 268.3c-3.3-7.9-3.3-16.7 0-24.6C17.3 208 48.6 156 95.4 112.6zM288 336c44.2 0 80-35.8 80-80s-35.8-80-80-80c-.7 0-1.3 0-2 0c1.3 5.1 2 10.5 2 16c0 35.3-28.7 64-64 64c-5.5 0-10.9-.7-16-2c0 .7 0 1.3 0 2c0 44.2 35.8 80 80 80zm0-208a128 128 0 1 1 0 256 128 128 0 1 1 0-256z\"\n}, null, -1 /* HOISTED */));\nconst _hoisted_7 = {\n  class: \"d-flex\",\n  role: \"search\"\n};\nconst _hoisted_8 = {\n  key: 0,\n  class: \"input-group mb-3 search-bar left-margin\"\n};\nconst _hoisted_9 = {\n  class: \"modal fade\",\n  id: \"exampleModal\",\n  tabindex: \"-1\",\n  \"aria-labelledby\": \"exampleModalLabel\",\n  \"aria-hidden\": \"true\"\n};\nconst _hoisted_10 = {\n  class: \"modal-dialog\"\n};\nconst _hoisted_11 = {\n  class: \"modal-content\"\n};\nconst _hoisted_12 = {\n  class: \"modal-header\"\n};\nconst _hoisted_13 = {\n  class: \"modal-title fs-5\",\n  id: \"exampleModalLabel\"\n};\nconst _hoisted_14 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"button\",\n  class: \"btn-close\",\n  \"data-bs-dismiss\": \"modal\",\n  \"aria-label\": \"Close\"\n}, null, -1 /* HOISTED */));\nconst _hoisted_15 = {\n  class: \"modal-body\"\n};\nconst _hoisted_16 = [\"src\"];\nconst _hoisted_17 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"modal-footer\"\n}, [/*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"button\",\n  class: \"btn btn-secondary\",\n  \"data-bs-dismiss\": \"modal\"\n}, \"Close\"), /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"button\",\n  class: \"btn btn-primary\"\n}, \"Save changes\")], -1 /* HOISTED */));\nconst _hoisted_18 = {\n  key: 1,\n  class: \"center-screen\"\n};\nconst _hoisted_19 = /*#__PURE__*/_createStaticVNode(\"<div class=\\\"card text-center\\\" data-v-bd46da12><div class=\\\"card-header\\\" data-v-bd46da12> Files </div><div class=\\\"card-body\\\" data-v-bd46da12><h5 class=\\\"card-title\\\" data-v-bd46da12>No files found</h5><p class=\\\"card-text\\\" data-v-bd46da12>Please add files using the button below to be displayed here</p></div><div class=\\\"card-footer text-muted\\\" data-v-bd46da12> :) </div></div>\", 1);\nconst _hoisted_20 = [_hoisted_19];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return $data.files.length > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"table\", _hoisted_2, [_hoisted_3, _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.files, file => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: file.id\n    }, [_hoisted_4, _createElementVNode(\"td\", null, _toDisplayString(file.file_name), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(file.location), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(file.version_number), 1 /* TEXT */), _createElementVNode(\"td\", null, [_createCommentVNode(\" Add Icons using String format \"), (_openBlock(), _createElementBlock(\"svg\", {\n      class: \"hand\",\n      \"data-bs-toggle\": \"modal\",\n      \"data-bs-target\": \"#exampleModal\",\n      onClick: $event => $options.DisplayFile(file),\n      xmlns: \"http://www.w3.org/2000/svg\",\n      height: \"1em\",\n      viewBox: \"0 0 576 512\"\n    }, [_createCommentVNode(\"! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. \"), _hoisted_6], 8 /* PROPS */, _hoisted_5))])]);\n  }), 128 /* KEYED_FRAGMENT */))])]), _createElementVNode(\"form\", _hoisted_7, [_createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"btn btn-primary left-margin\",\n    onClick: _cache[0] || (_cache[0] = $event => $data.searchFile = !$data.searchFile)\n  }, \"Search File\")]), $data.searchFile ? (_openBlock(), _createElementBlock(\"div\", _hoisted_8, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    class: \"form-control\",\n    placeholder: \"sample/location/file_name.pdf?version=1 (Example)\",\n    \"aria-label\": \"Username\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.searchValue = $event),\n    \"aria-describedby\": \"basic-addon1\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.searchValue]]), _createElementVNode(\"span\", {\n    class: \"input-group-text hand btn btn-primary\",\n    id: \"basic-addon1\",\n    onClick: _cache[2] || (_cache[2] = $event => $options.filterFiles())\n  }, \"search\"), _createElementVNode(\"span\", {\n    class: \"input-group-text hand btn btn-danger\",\n    id: \"basic-addon1\",\n    onClick: _cache[3] || (_cache[3] = $event => {\n      $options.cancelSearch();\n      this.searchFile = false;\n    })\n  }, \"Cancel\")])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Modal \"), _createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"div\", _hoisted_12, [_createElementVNode(\"h1\", _hoisted_13, _toDisplayString($data.displayFile.file_name), 1 /* TEXT */), _hoisted_14]), _createElementVNode(\"div\", _hoisted_15, [_createElementVNode(\"img\", {\n    src: $data.displayFile.file_data,\n    alt: \"red dot\"\n  }, null, 8 /* PROPS */, _hoisted_16)]), _hoisted_17])])])])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_18, [..._hoisted_20]));\n}","map":{"version":3,"names":["class","_createElementVNode","scope","d","role","id","tabindex","type","_hoisted_19","$data","files","length","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_Fragment","_renderList","file","key","_hoisted_4","_toDisplayString","file_name","location","version_number","_createCommentVNode","onClick","$event","$options","DisplayFile","xmlns","height","viewBox","_hoisted_6","_hoisted_7","_cache","searchFile","_hoisted_8","placeholder","searchValue","filterFiles","cancelSearch","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","displayFile","_hoisted_14","_hoisted_15","src","file_data","alt","_hoisted_17","_hoisted_18","_hoisted_20"],"sources":["/Users/rajankaul/Desktop/propelon/propylon-assessment-test/src/components/Files.vue"],"sourcesContent":["<template>\n  <div v-if=\"files.length>0\">\n    <table class=\"table\">\n        <thead>\n            <tr>\n            <th scope=\"col\">#</th>\n            <th scope=\"col\">File Name</th>\n            <th scope=\"col\">Location</th>\n            <th scope=\"col\">Version no.</th>\n            <th scope=\"col\">Handle</th>\n            </tr>\n        </thead>\n        <tbody>\n            <tr  v-for=\"file in files\" :key=\"file.id\">\n                <td></td>\n            <td>{{ file.file_name }}</td>\n            <td>{{ file.location }}</td>\n            <td>{{ file.version_number }}</td>\n            <td><!-- Add Icons using String format -->\n                <svg class=\"hand\" data-bs-toggle=\"modal\" data-bs-target=\"#exampleModal\" @click=\"DisplayFile(file)\" xmlns=\"http://www.w3.org/2000/svg\" height=\"1em\" viewBox=\"0 0 576 512\"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d=\"M288 80c-65.2 0-118.8 29.6-159.9 67.7C89.6 183.5 63 226 49.4 256c13.6 30 40.2 72.5 78.6 108.3C169.2 402.4 222.8 432 288 432s118.8-29.6 159.9-67.7C486.4 328.5 513 286 526.6 256c-13.6-30-40.2-72.5-78.6-108.3C406.8 109.6 353.2 80 288 80zM95.4 112.6C142.5 68.8 207.2 32 288 32s145.5 36.8 192.6 80.6c46.8 43.5 78.1 95.4 93 131.1c3.3 7.9 3.3 16.7 0 24.6c-14.9 35.7-46.2 87.7-93 131.1C433.5 443.2 368.8 480 288 480s-145.5-36.8-192.6-80.6C48.6 356 17.3 304 2.5 268.3c-3.3-7.9-3.3-16.7 0-24.6C17.3 208 48.6 156 95.4 112.6zM288 336c44.2 0 80-35.8 80-80s-35.8-80-80-80c-.7 0-1.3 0-2 0c1.3 5.1 2 10.5 2 16c0 35.3-28.7 64-64 64c-5.5 0-10.9-.7-16-2c0 .7 0 1.3 0 2c0 44.2 35.8 80 80 80zm0-208a128 128 0 1 1 0 256 128 128 0 1 1 0-256z\"/></svg>\n            </td>\n            </tr>\n        </tbody>\n    </table>\n    <form class=\"d-flex\" role=\"search\">\n        <button type=\"button\" class=\"btn btn-primary left-margin\" @click=\"searchFile=!searchFile\">Search File</button>\n    </form>\n    <div v-if=\"searchFile\" class=\"input-group mb-3 search-bar left-margin\">\n        <input type=\"text\" class=\"form-control\" placeholder=\"sample/location/file_name.pdf?version=1 (Example)\" aria-label=\"Username\" v-model=\"searchValue\" aria-describedby=\"basic-addon1\">\n        <span class=\"input-group-text hand btn btn-primary\" id=\"basic-addon1\" @click=\"filterFiles()\">search</span>\n        <span class=\"input-group-text hand btn btn-danger\" id=\"basic-addon1\" @click=\"cancelSearch(); this.searchFile = false;\">Cancel</span>\n    </div>\n\n    <!-- Modal -->\n    <div class=\"modal fade\" id=\"exampleModal\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n        <div class=\"modal-dialog\">\n            <div class=\"modal-content\">\n            <div class=\"modal-header\">\n                <h1 class=\"modal-title fs-5\" id=\"exampleModalLabel\">{{ displayFile.file_name }}</h1>\n                <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n            </div>\n            <div class=\"modal-body\">\n                <img :src=\"displayFile.file_data\" alt=\"red dot\" />\n            </div>\n            <div class=\"modal-footer\">\n                <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Close</button>\n                <button type=\"button\" class=\"btn btn-primary\">Save changes</button>\n            </div>\n            </div>\n        </div>\n    </div>\n  </div>\n  <div class=\"center-screen\" v-else>\n    <div class=\"card text-center \">\n        <div class=\"card-header\">\n            Files\n        </div>\n        <div class=\"card-body\">\n            <h5 class=\"card-title\">No files found</h5>\n            <p class=\"card-text\">Please add files using the button below to be displayed here</p>\n        </div>\n        <div class=\"card-footer text-muted\">\n            :)\n        </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport * as apiFile from \"../api/files.js\";\n\nexport default {\n    name:\"FileVersion\",\n    data(){\n        return{\n            files:{},\n            searchFile: false,\n            searchValue: \"\",\n            filteredFile:{},\n            displayFile:{}\n        }\n    },\n    mounted(){\n        this.getFiles();\n    },  \n    methods:{\n        getFiles: function(){\n            apiFile.getFiles((error, response) => {\n                if(response){\n                    this.files = response.files;\n                    this.filteredFile = response.files;\n                }else{\n                    console.log(\"Could not retreive files\")\n                }\n\n            });\n        },\n\n        filterFiles: function(){\n\n            this.searchValue = this.searchValue.trim();\n            this.files = this.filteredFile;\n\n            var fileVersion = false;\n            var searchPeices = [this.searchValue];\n\n            if(this.searchValue.includes(\"?\")){\n                searchPeices = this.searchValue.trim().split(\"?\");\n                fileVersion = searchPeices[1].split(\"version=\")[1];\n            }\n            \n            const fileName = searchPeices[0].split('/').pop();\n            const fileURL = searchPeices[0].split(\"/\" + fileName)[0];\n\n            console.log('kk')\n            \n            this.files = this.files.filter((file) => {\n\n                if(!fileVersion){\n                    return file['location']==fileURL && fileName==file['file_name'];\n                }else{\n                    return fileName==file['file_name'] && parseInt(fileVersion)==file['version_number'] && file['location']==fileURL;\n                }                \n            });\n        },\n\n        cancelSearch: function(){\n            this.searchValue = \"\";\n            this.files = this.filteredFile;\n            \n        },\n\n        DisplayFile: function(file){\n            this.displayFile = file;\n            \n        }\n    }\n\n}\n</script>\n\n<style scoped>\n.center-screen{\n  width: 500px;\n  height: 300px;\n  margin: auto;\n  margin-top: 40px;\n  padding: 10px;\n}\n.left-margin{\n  margin-left: 50px;\n}\n\n.square{\n    width:500px;\n}\n\n.search-bar{\n    width: 600px;\n    margin-top: 20px\n}\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}