{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode, vModelText as _vModelText, withDirectives as _withDirectives, createStaticVNode as _createStaticVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-bd46da12\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  key: 0\n};\nconst _hoisted_2 = {\n  class: \"table\"\n};\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"thead\", null, [/*#__PURE__*/_createElementVNode(\"tr\", null, [/*#__PURE__*/_createElementVNode(\"th\", {\n  scope: \"col\"\n}, \"#\"), /*#__PURE__*/_createElementVNode(\"th\", {\n  scope: \"col\"\n}, \"File Name\"), /*#__PURE__*/_createElementVNode(\"th\", {\n  scope: \"col\"\n}, \"Location\"), /*#__PURE__*/_createElementVNode(\"th\", {\n  scope: \"col\"\n}, \"Version no.\"), /*#__PURE__*/_createElementVNode(\"th\", {\n  scope: \"col\"\n}, \"Handle\")])], -1 /* HOISTED */));\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"td\", null, null, -1 /* HOISTED */));\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"td\", null, [/*#__PURE__*/_createCommentVNode(\" Add Icons using String format \"), /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"fa-solid fa-house\"\n})], -1 /* HOISTED */));\nconst _hoisted_6 = {\n  class: \"d-flex\",\n  role: \"search\"\n};\nconst _hoisted_7 = {\n  key: 0,\n  class: \"input-group mb-3 search-bar left-margin\"\n};\nconst _hoisted_8 = {\n  key: 1,\n  class: \"center-screen\"\n};\nconst _hoisted_9 = /*#__PURE__*/_createStaticVNode(\"<div class=\\\"card text-center\\\" data-v-bd46da12><div class=\\\"card-header\\\" data-v-bd46da12> Files </div><div class=\\\"card-body\\\" data-v-bd46da12><h5 class=\\\"card-title\\\" data-v-bd46da12>No files found</h5><p class=\\\"card-text\\\" data-v-bd46da12>Please add files using the button below to be displayed here</p></div><div class=\\\"card-footer text-muted\\\" data-v-bd46da12> :) </div></div>\", 1);\nconst _hoisted_10 = [_hoisted_9];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return $data.files.length > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"table\", _hoisted_2, [_hoisted_3, _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.files, file => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: file.id\n    }, [_hoisted_4, _createElementVNode(\"td\", null, _toDisplayString(file.file_name), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(file.location), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(file.version_number), 1 /* TEXT */), _hoisted_5]);\n  }), 128 /* KEYED_FRAGMENT */))])]), _createElementVNode(\"form\", _hoisted_6, [_createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"btn btn-primary left-margin\",\n    onClick: _cache[0] || (_cache[0] = $event => {\n      $data.searchFile = !$data.searchFile;\n      $options.cancelSearch();\n    })\n  }, \"Search File\")]), $data.searchFile ? (_openBlock(), _createElementBlock(\"div\", _hoisted_7, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    class: \"form-control\",\n    placeholder: \"sample/location/file_name.pdf?version=1 (Example)\",\n    \"aria-label\": \"Username\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.searchValue = $event),\n    \"aria-describedby\": \"basic-addon1\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.searchValue]]), _createElementVNode(\"span\", {\n    class: \"input-group-text hand btn btn-primary\",\n    id: \"basic-addon1\",\n    onClick: _cache[2] || (_cache[2] = $event => $options.filterFiles())\n  }, \"search\"), _createElementVNode(\"span\", {\n    class: \"input-group-text hand btn btn-danger\",\n    id: \"basic-addon1\",\n    onClick: _cache[3] || (_cache[3] = $event => $options.cancelSearch())\n  }, \"Cancel\")])) : _createCommentVNode(\"v-if\", true)])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_8, [..._hoisted_10]));\n}","map":{"version":3,"names":["class","_createElementVNode","scope","_createCommentVNode","role","_hoisted_9","$data","files","length","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_Fragment","_renderList","file","key","id","_hoisted_4","_toDisplayString","file_name","location","version_number","_hoisted_5","_hoisted_6","type","onClick","_cache","$event","searchFile","$options","cancelSearch","_hoisted_7","placeholder","searchValue","filterFiles","_hoisted_8","_hoisted_10"],"sources":["/Users/rajankaul/Desktop/propelon/propylon-assessment-test/src/components/Files.vue"],"sourcesContent":["<template>\n  <div v-if=\"files.length>0\">\n    <table class=\"table\">\n        <thead>\n            <tr>\n            <th scope=\"col\">#</th>\n            <th scope=\"col\">File Name</th>\n            <th scope=\"col\">Location</th>\n            <th scope=\"col\">Version no.</th>\n            <th scope=\"col\">Handle</th>\n            </tr>\n        </thead>\n        <tbody>\n            <tr  v-for=\"file in files\" :key=\"file.id\">\n                <td></td>\n            <td>{{ file.file_name }}</td>\n            <td>{{ file.location }}</td>\n            <td>{{ file.version_number }}</td>\n            <td><!-- Add Icons using String format -->\n                <i class=\"fa-solid fa-house\"></i>\n            </td>\n            </tr>\n        </tbody>\n    </table>\n    <form class=\"d-flex\" role=\"search\">\n        <button type=\"button\" class=\"btn btn-primary left-margin\" @click=\"searchFile=!searchFile; cancelSearch()\">Search File</button>\n    </form>\n    <div v-if=\"searchFile\" class=\"input-group mb-3 search-bar left-margin\">\n        <input type=\"text\" class=\"form-control\" placeholder=\"sample/location/file_name.pdf?version=1 (Example)\" aria-label=\"Username\" v-model=\"searchValue\" aria-describedby=\"basic-addon1\">\n        <span class=\"input-group-text hand btn btn-primary\" id=\"basic-addon1\" @click=\"filterFiles()\">search</span>\n        <span class=\"input-group-text hand btn btn-danger\" id=\"basic-addon1\" @click=\"cancelSearch()\">Cancel</span>\n    </div>\n  </div>\n  <div class=\"center-screen\" v-else>\n    <div class=\"card text-center \">\n        <div class=\"card-header\">\n            Files\n        </div>\n        <div class=\"card-body\">\n            <h5 class=\"card-title\">No files found</h5>\n            <p class=\"card-text\">Please add files using the button below to be displayed here</p>\n        </div>\n        <div class=\"card-footer text-muted\">\n            :)\n        </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport * as apiFile from \"../api/files.js\";\n// import structuredClone from '@ungap/structured-clone';\n\n\nexport default {\n    name:\"FileVersion\",\n    data(){\n        return{\n            files:{},\n            searchFile: false,\n            searchValue: \"\",\n            filteredFile:{}\n        }\n    },\n    mounted(){\n        this.getFiles();\n    },  \n    methods:{\n        getFiles: function(){\n            apiFile.getFiles((error, response) => {\n                if(response){\n                    this.files = response.files;\n                    this.filteredFile = response.files;\n                }else{\n                    console.log(\"Could not retreive files\")\n                }\n\n            });\n        },\n\n        filterFiles: function(){\n\n            this.searchValue = this.searchValue.tr\n\n            var fileVersion = false;\n            var searchPeices = [this.searchValue];\n\n            if(this.searchValue.includes(\"?\")){\n                searchPeices = this.searchValue.trim().split(\"?\");\n                fileVersion = searchPeices[1].split(\"version=\")[1];\n            }\n            \n            const fileName = searchPeices[0].split('/').pop();\n            const fileURL = searchPeices[0].split(\"/\" + fileName)[0];\n\n            console.log('kk')\n            \n            this.files = this.files.filter((file) => {\n\n                if(!fileVersion){\n                    return file['location']==fileURL && fileName==file['file_name'];\n                }else{\n                    return fileName==file['file_name'] && parseInt(fileVersion)==file['version_number'] && file['location']==fileURL;\n                }                \n            });\n        },\n\n        cancelSearch: function(){\n            this.searchValue = \"\";\n            this.files = this.filteredFile;\n        }\n    }\n\n}\n</script>\n\n<style scoped>\n.center-screen{\n  width: 500px;\n  height: 300px;\n  margin: auto;\n  margin-top: 40px;\n  padding: 10px;\n}\n.left-margin{\n  margin-left: 50px;\n}\n\n.search-bar{\n    width: 600px;\n    margin-top: 20px\n}\n</style>"],"mappings":";;;;;;EAEWA,KAAK,EAAC;AAAO;gEAChBC,mBAAA,CAQQ,gB,aAPJA,mBAAA,CAMK,a,aALLA,mBAAA,CAAsB;EAAlBC,KAAK,EAAC;AAAK,GAAC,GAAC,G,aACjBD,mBAAA,CAA8B;EAA1BC,KAAK,EAAC;AAAK,GAAC,WAAS,G,aACzBD,mBAAA,CAA6B;EAAzBC,KAAK,EAAC;AAAK,GAAC,UAAQ,G,aACxBD,mBAAA,CAAgC;EAA5BC,KAAK,EAAC;AAAK,GAAC,aAAW,G,aAC3BD,mBAAA,CAA2B;EAAvBC,KAAK,EAAC;AAAK,GAAC,QAAM,E;gEAKlBD,mBAAA,CAAS;gEAIbA,mBAAA,CAEK,a,aAFDE,mBAAA,mCAAsC,E,aACtCF,mBAAA,CAAiC;EAA9BD,KAAK,EAAC;AAAmB,G;;EAKlCA,KAAK,EAAC,QAAQ;EAACI,IAAI,EAAC;;;;EAGHJ,KAAK,EAAC;;;;EAM1BA,KAAK,EAAC;;;qBACTK,UAWM,C;;SA5CGC,KAAA,CAAAC,KAAK,CAACC,MAAM,Q,cAAvBC,mBAAA,CA+BM,OAAAC,UAAA,GA9BJT,mBAAA,CAqBQ,SArBRU,UAqBQ,GApBJC,UAQQ,EACRX,mBAAA,CAUQ,iB,kBATJQ,mBAAA,CAQKI,SAAA,QAAAC,WAAA,CAReR,KAAA,CAAAC,KAAK,EAAbQ,IAAI;yBAAhBN,mBAAA,CAQK;MARuBO,GAAG,EAAED,IAAI,CAACE;QAClCC,UAAS,EACbjB,mBAAA,CAA6B,YAAAkB,gBAAA,CAAtBJ,IAAI,CAACK,SAAS,kBACrBnB,mBAAA,CAA4B,YAAAkB,gBAAA,CAArBJ,IAAI,CAACM,QAAQ,kBACpBpB,mBAAA,CAAkC,YAAAkB,gBAAA,CAA3BJ,IAAI,CAACO,cAAc,kBAC1BC,UAEK,C;sCAIbtB,mBAAA,CAEO,QAFPuB,UAEO,GADHvB,mBAAA,CAA8H;IAAtHwB,IAAI,EAAC,QAAQ;IAACzB,KAAK,EAAC,6BAA6B;IAAE0B,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA;MAAEtB,KAAA,CAAAuB,UAAU,IAAEvB,KAAA,CAAAuB,UAAU;MAAEC,QAAA,CAAAC,YAAY;IAAA;KAAI,aAAW,E,GAE9GzB,KAAA,CAAAuB,UAAU,I,cAArBpB,mBAAA,CAIM,OAJNuB,UAIM,G,gBAHF/B,mBAAA,CAAoL;IAA7KwB,IAAI,EAAC,MAAM;IAACzB,KAAK,EAAC,cAAc;IAACiC,WAAW,EAAC,mDAAmD;IAAC,YAAU,EAAC,UAAU;+DAAU3B,KAAA,CAAA4B,WAAW,GAAAN,MAAA;IAAE,kBAAgB,EAAC;iDAA9BtB,KAAA,CAAA4B,WAAW,E,GAClJjC,mBAAA,CAA0G;IAApGD,KAAK,EAAC,uCAAuC;IAACiB,EAAE,EAAC,cAAc;IAAES,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEE,QAAA,CAAAK,WAAW;KAAI,QAAM,GACnGlC,mBAAA,CAA0G;IAApGD,KAAK,EAAC,sCAAsC;IAACiB,EAAE,EAAC,cAAc;IAAES,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEE,QAAA,CAAAC,YAAY;KAAI,QAAM,E,2DAGzGtB,mBAAA,CAaM,OAbN2B,UAaM,MAAAC,WAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}